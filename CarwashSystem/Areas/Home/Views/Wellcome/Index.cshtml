@using UI.Models
@model sp_DashboardResult
@{
    ViewData["Title"] = "Dashboard";
}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<div class="container-fluid py-4">
    <div class="card">
        <div class="card-body">
            <h2 class="fw-bold mb-4 text-primary"><i class="bi bi-bar-chart"></i> Dashboard General</h2>
            <div class="row g-4 mb-4">
                <div class="col-md-3">
                    <div class="card shadow-sm border-0 rounded-4 text-center h-100 bg-info bg-opacity-10">
                        <div class="card-body">
                            <i class="bi bi-droplet fs-1 text-info"></i>
                            <h5 class="mt-2 mb-1 fw-bold">@Model.LavadosHoy?.ToString("C")</h5>
                            <div class="text-secondary">Lavados Hoy</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card shadow-sm border-0 rounded-4 text-center h-100 bg-warning bg-opacity-10">
                        <div class="card-body">
                            <i class="bi bi-basket fs-1 text-warning"></i>
                            <h5 class="mt-2 mb-1 fw-bold">@Model.VentasHoy?.ToString("C")</h5>
                            <div class="text-secondary">Ventas Snacks Hoy</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card shadow-sm border-0 rounded-4 text-center h-100 bg-success bg-opacity-10">
                        <div class="card-body">
                            <i class="bi bi-currency-dollar fs-1 text-success"></i>
                            <h5 class="mt-2 mb-1 fw-bold">@Model.IngresosHoy?.ToString("C")</h5>
                            <div class="text-secondary">Ingresos del Día</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card shadow-sm border-0 rounded-4 text-center h-100 @(Model.CajaAbierta.Value ? "bg-primary bg-opacity-10" : "bg-secondary bg-opacity-10")">
                        <div class="card-body">
                            <i class="bi bi-cash-stack fs-1 @(Model.CajaAbierta.Value ? "text-primary" : "text-secondary")"></i>
                            <h5 class="mt-2 mb-1 fw-bold">@Model.TotalCaja?.ToString("C")</h5>
                            <div class="text-secondary">Caja @(Model.CajaAbierta.Value ? "Abierta" : "Cerrada")</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row g-4">
        <div class="col-md-6">
            <div class="card shadow-sm border-0 rounded-4 h-100">
                <div class="card-body">
                    <h6 class="fw-bold mb-2"><i class="bi bi-clock-history"></i> Últimos Lavados</h6>
                    <div id="ultimosLavados"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card shadow-sm border-0 rounded-4 h-100">
                <div class="card-body">
                    <h6 class="fw-bold mb-2"><i class="bi bi-basket"></i> Últimas Ventas Snacks</h6>
                    <div id="ultimasVentas"></div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>

        // Cargar últimos lavados y ventas (AJAX, opcional)
        $(function () {
            $('#ultimosLavados').load('@Url.Action("UltimosLavados", "Wellcome")');
            $('#ultimasVentas').load('@Url.Action("UltimasVentas", "Wellcome")');
        });
    </script>
}